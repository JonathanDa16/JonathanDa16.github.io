"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2218],{2218:(w,c,i)=>{i.r(c),i.d(c,{LoginDesktopPageModule:()=>C});var h=i(6895),a=i(433),r=i(5035),p=i(1407),t=i(8256),g=i(655),u=i(529),f=i(2340),m=i(4456);let v=(()=>{class e{constructor(n){this.http=n}login(n){return(0,g.mG)(this,void 0,void 0,function*(){const o=(new u.WM).set("Content-Type","application/json"),l=f.N.apiUrlBase+"/account/login";try{const d=yield this.http.post(l,n,{headers:o}).toPromise();return new m.d(d)}catch(d){return new m.d(d.error)}})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),x=(()=>{class e{constructor(n,o){this.navCtrl=n,this.api=o,this.isEmailEmpty=!1,this.isPasswordEmpty=!1,this.isEmailPatternValid=!0,this.emailValidationStatus=!1,this.buttonClickedStatus=!1,this.email="",this.password="",this.form=new a.cw({email:new a.NI("",a.kI.required),password:new a.NI("",a.kI.required)})}ngOnInit(){}login(){return(0,g.mG)(this,void 0,void 0,function*(){const o=(yield this.api.login({email:this.email,password:this.password})).getData();this.goToUser(o)})}isFieldAlreadyClicked(n){var o,l;return(null===(o=this.form.get(n))||void 0===o?void 0:o.touched)||(null===(l=this.form.get(n))||void 0===l?void 0:l.dirty)}isFieldEmpty(n){var o;return null===(o=this.form.get(n))||void 0===o?void 0:o.hasError("required")}areFieldsValid(){return this.isEmailEmpty=this.isFieldEmpty("email"),this.isPasswordEmpty=this.isFieldEmpty("password"),this.isEmailPatternValid=new RegExp("(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\x01-\b\v\f\x0e-\x1f!#-[]-\x7f]|\\\\[\x01-\t\v\f\x0e-\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\b\v\f\x0e-\x1f!-ZS-\x7f]|\\\\[\x01-\t\v\f\x0e-\x7f])+)\\])").test(this.email),!this.isEmailEmpty&&!this.isPasswordEmpty&&this.isEmailPatternValid}clearFields(){(this.isEmailEmpty||!this.isEmailPatternValid)&&(this.email=""),this.isPasswordEmpty&&(this.password="")}goToRegister(){this.navCtrl.navigateForward("/register")}goToUser(n){switch(n){case"patient":this.navCtrl.navigateForward("/patient-home-desktop");break;case"doctor":this.navCtrl.navigateForward("/doctor-home-desktop");break;case"admin":this.navCtrl.navigateForward("/admin-home-desktop")}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.SH),t.Y36(v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login-desktop-box"]],decls:16,vars:2,consts:[["type","email","placeholder","Correo electronico",3,"ngModel","ngModelChange"],["type","password","placeholder","Contrase\xf1a",3,"ngModel","ngModelChange"],["href",""],[3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-card")(1,"ion-card-title"),t._uU(2,"Inicio de sesi\xf3n"),t.qZA(),t.TgZ(3,"div")(4,"ion-item")(5,"ion-input",0),t.NdJ("ngModelChange",function(d){return o.email=d}),t.qZA()(),t.TgZ(6,"ion-item")(7,"ion-input",1),t.NdJ("ngModelChange",function(d){return o.password=d}),t.qZA()(),t.TgZ(8,"a",2),t._uU(9,"\xbfOlvidaste tu contrase\xf1a?"),t.qZA(),t._UZ(10,"hr"),t.TgZ(11,"ion-button",3),t.NdJ("click",function(){return o.login()}),t._uU(12,"Iniciar sesi\xf3n"),t.qZA(),t._UZ(13,"hr"),t.TgZ(14,"a",3),t.NdJ("click",function(){return o.goToRegister()}),t._uU(15,"\xbfAun no tienes cuenta?"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("ngModel",o.email),t.xp6(2),t.Q6J("ngModel",o.password))},dependencies:[a.JJ,a.On,r.YG,r.PM,r.Dq,r.pK,r.Ie,r.j9],styles:["*[_ngcontent-%COMP%]{font-family:Quicksand-Regular,sans-serif}ion-card-title[_ngcontent-%COMP%]{color:#46c3f3;text-align:center;font-size:2.5vw}ion-card[_ngcontent-%COMP%]{padding:3vw;border-radius:25px;width:37vw}ion-item[_ngcontent-%COMP%]{margin-top:1vw;margin-bottom:1vw}ion-button[_ngcontent-%COMP%]{font-family:Quicksand-Semibold,sans-serif;width:100%;--background: #46C3F3}a[_ngcontent-%COMP%]{color:#595959}"]}),e})();const k=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login-desktop"]],decls:3,vars:0,consts:[["padding","",1,"background"],[1,"container"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0)(1,"div",1),t._UZ(2,"app-login-desktop-box"),t.qZA()())},dependencies:[r.W2,x],styles:["ion-content.background[_ngcontent-%COMP%]{--background: url(background_login.32b7f78e08e23cd6.jpg) 0 0/100% 100% no-repeat}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100vw;height:100vh}"]}),e})()}];let y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(k),p.Bz]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.ez,a.u5,r.Pc,y,a.UX]}),e})()}}]);